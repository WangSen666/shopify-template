<style>
  .with_bg_card {
    display: flex;
    justify-content: space-between;
    width: 100%;
    padding: 0;
    background:#F7F7F5;
  }
  .with_bg_card-box {
    position: relative;
    width: 33%;

  }
  .with_bg_card-img {
    height: 62rem;
  }
  .with_bg_card-img img {

    width: 100%;
    height: 100%;
  }
  .with_bg_card-item {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  .with_bg_card-item-wrapper {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 90%;
    text-align: center;
    color: #fff;
    transform: translate(-50%, -50%);
  }
  .with_bg_card .button {
    background: none;
    color: #fff;
    border: 1px solid #fff;
    border-radius: 20px;
    padding: 6px 14px;
  }
  .with_bg_card .button img {
    margin-left: 6px;
  }
  @media screen and (max-width: 750px) {
    .with_bg_card-img {
      max-height: 42rem !important;
    }
    .with_bg_card-item-wrapper h2{
      font-size:20px !important;
    }
    .with_bg_card-item-wrapper div{
      font-size:16px !important;
      font-weight:normal !important;
    }
    .width_bg_card-two{
      flex-wrap:wrap;
    }
    .width_bg_card-two .with_bg_card-box{
      width:50% !important;
    }
  }
</style>

<div id="with_bg_card-{{ section.id }}" class="with_bg_card color-{{ section.settings.color_scheme }} ">
  <div class="with_bg_card page-width {% if  section.settings.modile_num=='three' %}width_bg_card-three{% endif %} {% if  section.settings.modile_num=='two' %}width_bg_card-two{% endif %}">
    {%- for block in section.blocks -%}
      <div class="with_bg_card-box"  onclick="clickWithBgCard(event)">
      <script>
        var clickWithBgCard=function(event){
          console.log("event",event.target.className)
          event.stopPropagation()
          if(event.target.className!='with_bg_card-item'){
            return ;
          }else{
          console.log("event",event)
      
          }
          
        }
        window.onload=function(){
          var withBgCard=$(".with_bg_card");
          
          console.log("dadaa",withBgCard);
         
           
        }
        
      </script>
        <div class="with_bg_card-img">
          <img src="{{ block.settings.picture-card-item|image_url }}" />
        </div>
        <div class="with_bg_card-item" style="background:rgba(0,0,0,{{block.settings.bg_opcity}})">
          <div class="with_bg_card-item-wrapper">
            <h2 style="color:{{block.settings.font_color}};font-size:{{block.settings.font_size}}px;">{{ block.settings.heading }}</h2>
            {%  if block.settings.button_label_1!=blank %}
              <a {% if block.settings.button_link_1 == blank %}role="link"aria-disabled="true"{% else %}href="{{ block.settings.button_link_1 }}"{% endif %} class="button{% if block.settings.button_style_secondary_2 %} button--secondary{% else %} button--primary{% endif %}">{{ block.settings.button_label_1 | escape }}
                <img
                  src="{{'button_logo_1.png'  | asset_url }}"
                  width="12"
                  height="12" />
              </a>
            {% endif %}
            {%  if block.settings.heading_1!=blank %}
              <div style="color:#fff;font-size:24px;font-weight:bold;">
                {{ block.settings.heading_1 }}
              </div>
            {% endif %}
            
          </div>
        </div>
      </div>
    {%- endfor -%}

  </div>


</div>



{% schema %}
  {
    "name": "带图片背景的卡片内容",
    "tag": "section",
    "class": "section",
    "settings": [
      {
        "type": "select",
        "id": "color_scheme",
        "options": [
          {
            "value": "accent-1",
            "label": "t:sections.all.colors.accent_1.label"
          },
          {
            "value": "accent-2",
            "label": "t:sections.all.colors.accent_2.label"
          },
          {
            "value": "background-1",
            "label": "t:sections.all.colors.background_1.label"
          },
          {
            "value": "background-2",
            "label": "t:sections.all.colors.background_2.label"
          }, {
            "value": "inverse",
            "label": "t:sections.all.colors.inverse.label"
          }
        ],
        "default": "background-1",
        "label": "t:sections.all.colors.label"
      },
      {
        "type":"select",
        "id":"modile_num",
        "options":[
          {"value":"two","label":"两列"},
          {"value":"three","label":"三列"}
        ],
        "default":"three",
        "label":"在移动设备上显示的列数"
      }
    ],
    "blocks": [
      {
        "type": "with_bg_card",
        "name": "图片卡片",
        "limit": 4,
        "settings": [
          {
            "type": "image_picker",
            "id": "picture-card-item",
            "label": "背景图片"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "标题内容"
          },
          {
            "type": "text",
            "id": "heading_1",
            "label": "副标题内容"
          },
          {
            "type": "range",
            "id": "font_size",
            "label": "字体大小",
            "min": 12,
            "max": 60,
            "step": 2,
            "default": 20
          },
          {
            "type": "select",
            "id": "font_color",
            "options": [
              {
                "value": "#B5EF35",
                "label": "主题色"
              }, {
                "value": "#fff",
                "label": "白色"
              }, {
                "value": "#000",
                "label": "黑色"
              }
            ],
            "default": "#000",
            "label": "字体颜色"
          }, {
            "type": "range",
            "id": "bg_opcity",
            "label": "阴影程度",
            "min": 0,
            "max": 1,
            "step": 0.1,
            "default": 0
          }, {
            "type": "text",
            "id": "button_label_1",
            "default": "Button label",
            "label": "按钮文案",
            "info": "t:sections.image-banner.blocks.buttons.settings.button_label_1.info"
          }, {
            "type": "url",
            "id": "button_link_1",
            "label": "t:sections.image-banner.blocks.buttons.settings.button_link_1.label"
          }

        ]
      }
    ],
    "presets": [
      {
        "name": "带图片背景的卡片内容",
        "blocks": [
          {
            "type": "with_bg_card"
          }
        ]
      }
    ]
  }
{% endschema %}